import{r as _,ad as L,ae as R,w as $,o as g,j as v,k as a,J as e,h as m,ab as t,U as x,bS as q,an as b,bT as N,bU as w,af as T,ak as z,al as F}from"./index-DVnxsj79.js";import{a as M,E as P}from"./el-col-B5Y-IL7k.js";import{E as j}from"./el-checkbox-5Qe4TuoU.js";import{E as J,a as A}from"./el-form-item-Bqg2o5SW.js";import{E as D}from"./el-link-D9qdGJ9T.js";import{_ as G,E as H}from"./_plugin-vue_export-helper-BrXyS60y.js";import{E as K}from"./el-input-BQ1ey5Cd.js";import"./el-message-nz64TIUu.js";import"./isEqual-VtTRdaQr.js";const E=p=>(z("data-v-36dd3f72"),p=p(),F(),p),O=E(()=>x("h1",null,"注册",-1)),Q=E(()=>x("h1",null,"登录",-1)),W={class:"flex"},X={__name:"LoginPage",setup(p){const u=_(!1),i=_(),l=_({username:"",password:"",repassword:""}),k={username:[{required:!0,message:"请输入用户名",trigger:"blur"},{min:5,max:10,message:"用户名必须是 5-10位 的字符",trigger:"blur"}],password:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是 6-15位 的非空字符",trigger:"blur"}],repassword:[{required:!0,message:"请输入密码",trigger:"blur"},{pattern:/^\S{6,15}$/,message:"密码必须是 6-15位 的非空字符",trigger:"blur"},{validator:(f,o,n)=>{o!==l.value.password?n(new Error("两次输入密码不一致")):n()},trigger:"blur"}]},S=async()=>{await i.value.validate(),await q(l.value),b.success("注册成功"),u.value=!1},U=L(),C=R(),I=async()=>{await i.value.validate();const f=await N(l.value);U.setToken(f.data.token),b.success("登录成功"),C.push("/")};return $(u,()=>{l.value={username:"",password:"",repassword:""}}),(f,o)=>{const n=P,s=J,d=K,V=H,c=D,y=A,h=j,B=M;return g(),v(B,{class:"login-page"},{default:a(()=>[e(n,{span:12,class:"bg"}),e(n,{span:6,offset:3,class:"form"},{default:a(()=>[u.value?(g(),v(y,{key:0,model:l.value,rules:k,ref_key:"form",ref:i,size:"large",autocomplete:"off"},{default:a(()=>[e(s,null,{default:a(()=>[O]),_:1}),e(s,{prop:"username"},{default:a(()=>[e(d,{modelValue:l.value.username,"onUpdate:modelValue":o[0]||(o[0]=r=>l.value.username=r),"prefix-icon":"User",placeholder:"请输入用户名"},null,8,["modelValue"])]),_:1}),e(s,{prop:"password"},{default:a(()=>[e(d,{modelValue:l.value.password,"onUpdate:modelValue":o[1]||(o[1]=r=>l.value.password=r),"prefix-icon":m(w),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{prop:"repassword"},{default:a(()=>[e(d,{modelValue:l.value.repassword,"onUpdate:modelValue":o[2]||(o[2]=r=>l.value.repassword=r),"prefix-icon":m(w),type:"password",placeholder:"请输入再次密码"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,null,{default:a(()=>[e(V,{onClick:S,class:"button",type:"primary","auto-insert-space":""},{default:a(()=>[t(" 注册 ")]),_:1})]),_:1}),e(s,{class:"flex"},{default:a(()=>[e(c,{type:"info",underline:!1,onClick:o[3]||(o[3]=r=>u.value=!1)},{default:a(()=>[t(" ← 返回 ")]),_:1})]),_:1})]),_:1},8,["model"])):(g(),v(y,{key:1,model:l.value,rules:k,ref_key:"form",ref:i,size:"large",autocomplete:"off"},{default:a(()=>[e(s,null,{default:a(()=>[Q]),_:1}),e(s,{prop:"username"},{default:a(()=>[e(d,{modelValue:l.value.username,"onUpdate:modelValue":o[4]||(o[4]=r=>l.value.username=r),"prefix-icon":m(T),placeholder:"请输入用户名"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{prop:"password"},{default:a(()=>[e(d,{modelValue:l.value.password,"onUpdate:modelValue":o[5]||(o[5]=r=>l.value.password=r),name:"password","prefix-icon":m(w),type:"password",placeholder:"请输入密码"},null,8,["modelValue","prefix-icon"])]),_:1}),e(s,{class:"flex"},{default:a(()=>[x("div",W,[e(h,null,{default:a(()=>[t("记住我")]),_:1}),e(c,{type:"primary",underline:!1},{default:a(()=>[t("忘记密码？")]),_:1})])]),_:1}),e(s,null,{default:a(()=>[e(V,{onClick:I,class:"button",type:"primary","auto-insert-space":""},{default:a(()=>[t("登录")]),_:1})]),_:1}),e(s,{class:"flex"},{default:a(()=>[e(c,{type:"info",underline:!1,onClick:o[6]||(o[6]=r=>u.value=!0)},{default:a(()=>[t(" 注册 → ")]),_:1})]),_:1})]),_:1},8,["model"]))]),_:1})]),_:1})}}},ue=G(X,[["__scopeId","data-v-36dd3f72"]]);export{ue as default};
